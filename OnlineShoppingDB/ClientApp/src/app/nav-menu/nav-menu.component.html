<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
<!-- Navbar -->
<nav *ngIf="route.url != '/login'  " class="navbar navbar-expand-md navbar-light">

  <a class="navbar-brand" href="#!">
    <img src="https://mdbootstrap.com/img/logo/mdb-transaprent-noshadows.png" height="30" alt="mdb logo">
  </a>

  <!-- Collapse button -->
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#basicExampleNav1"
          aria-controls="basicExampleNav1" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse col-md-6" id="basicExampleNav1">

    <!-- Right -->
    <ul class="nav nav-pills">
      <li class="nav-item" routerLinkActive="active">
        <a class="nav-link" [routerLink]="['/home']">
          Home
          <span class="sr-only">(current)</span>
        </a>
      </li>
      <li class="nav-item" routerLinkActive="active">
        <a class="nav-link" [routerLink]="['/products']">Products</a>
      </li>
      <li class="nav-item" routerLinkActive="active">
        <a class="nav-link fa fa-shopping-bag" [routerLink]="['/report']"> Purchase History</a>
      </li>
      
    </ul>

  </div>
    <!-- left -->
  <div class="collapse navbar-collapse col-md-6" id="basicExampleNav1">
    <ul class="navbar-nav ml-auto ">
      <li class="nav-item" routerLinkActive="active">
        <a class="nav-link fa fa-shopping-cart " [routerLink]="['/cart']">
          Cart
          <span class="badge badge-secondary badge-pill">{{ item.length}}</span>
        </a>
      </li>
      <li *ngIf="!loginMode" ng="nav-item">
        <a routerLink="/login" class="btn btn-outline-info btn-md btn-rounded btn-navbar waves-effect waves-light">
          Sign in
        </a>
      </li>
      <li *ngIf="!loginMode" class="nav-item pl-2 mb-2 mb-md-0">
        <a routerLink="/register"
           class="btn btn-outline-info btn-md btn-rounded btn-navbar waves-effect waves-light">Sign up</a>
      </li>

    </ul>

    <div *ngIf="loginMode" class="dropdown" dropdown>
      <a class="dropdown-toggle text-light" dropdownToggle>
        Welcome {{authService.decodeToken.unique_name | titlecase}}
      </a>

      <div class="dropdown-menu mt-3" *dropdownMenu>
        <a class="dropdown-item" href="#"><i class="fa fa-user"></i>Edit</a>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item" href="#" (click)="logout()"><i class="fa fa-sign-out"></i>Log Out</a>
      </div>
    </div>
  </div>
</nav>
<!-- Navbar -->

<nav class="navbar navbar-expand-md navbar-dark bg-dark">
  <div class="container" routerLinkActive="active">
    <a class="navbar-brand fa fa-"></a>

    <ul *ngIf="loggedIn()" class="navbar-nav mr-auto">
      <li class="nav-item" routerLinkActive="active">
        <a class="nav-link fa fa-shopping-bag" [routerLink]="['/products']"> Products</a>
      </li>
      <li class="nav-item" routerLinkActive="active">
        <a class="nav-link fa fa-shopping-bag" [routerLink]="['/report']"> Purchase History</a>
      </li>
      <li class="nav-item" routerLinkActive="active">
        <a class="nav-link fa fa-shopping-cart " [routerLink]="['/cart']">
          Cart
          <span class="badge badge-secondary badge-pill">{{ item.length}}</span>
        </a>
      </li>
    </ul>
    <div *ngIf="loggedIn()" class="dropdown" dropdown>
      <a class="dropdown-toggle text-light" dropdownToggle>
        Welcome {{authService.decodeToken.unique_name | titlecase}}
      </a>
      <div class="dropdown-menu mt-3" *dropdownMenu>
        <a class="dropdown-item" href="#" (click)="loggedOut()"><i class="fa fa-sign-out"></i>Log Out</a>
      </div>
    </div>

    <form *ngIf="!loggedIn()" #loginForm="ngForm" class="form-inline my-2 my-lg-0" (ngSubmit)="login()">
      <input class="form-control mr-sm-2" name="username"
             type="text" required [(ngModel)]="model.username" placeholder="Username">
      <input class="form-control mr-sm-2" name="password"
             type="password" required [(ngModel)]="model.password" placeholder="Password">
      <button [disabled]="!loginForm.valid" class="btn btn-success my-2 my-sm-0" type="submit">Login</button>
    </form>

  </div>

</nav>
